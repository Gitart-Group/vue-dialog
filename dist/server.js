!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("vue")):"function"==typeof define&&define.amd?define(["exports","vue"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).index={},e.Vue)}(this,(function(e,t){"use strict";const a=(e,t="px")=>null==e||""===e?void 0:isNaN(+e)?String(e):`${Number(e)}${t}`,l=e=>{if(!e||e.nodeType!==Node.ELEMENT_NODE)return 0;const t=parseInt(window.getComputedStyle(e).getPropertyValue("z-index"));return t||l(e.parentNode)},o=({activeElSelector:e,stackMinZIndex:a=0,isActive:o,content:n})=>({activeZIndex:t.computed((()=>{if(!n.value)return 0;const t=o.value?((t=[])=>{const o=[a],n=document.querySelectorAll(e);for(let e=0;e<n.length;e++)t.includes(n[e])||o.push(l(n[e]));return Math.max(...o)})([n.value])+2:l(n.value);return null===t?0:t}))});var n=t.defineComponent({name:"GDialogOverlay",props:{active:{type:Boolean,required:!0},deactivating:{type:Boolean,required:!0},activeZIndex:{type:Number,required:!0}},emits:["click"],setup:(e,{emit:a})=>({styles:t.computed((()=>({zIndex:e.activeZIndex-1}))),classes:t.computed((()=>["q-dialog-overlay",{"q-dialog-overlay--active":e.active&&!e.deactivating}])),onClick:()=>{a("click")}})});n.render=function(e,a,l,o,n,i){return t.openBlock(),t.createBlock(t.Transition,{name:"fade"},{default:t.withCtx((()=>[e.active?(t.openBlock(),t.createBlock("div",{key:0,class:e.classes,style:e.styles,onClick:a[1]||(a[1]=(...t)=>e.onClick&&e.onClick(...t))},null,6)):t.createCommentVNode("",!0)])),_:1})};var i=t.defineComponent({name:"GDialogContent",props:{maxWidth:{type:[String,Number],default:"none"},width:{type:[String,Number],default:"auto"},scrollable:{type:Boolean,default:!1},depressed:{type:Boolean,default:!1}},setup(e){const{widthStyles:l}=(e=>({widthStyles:t.computed((()=>({maxWidth:"none"===e.maxWidth?void 0:a(e.maxWidth),width:"auto"===e.width?void 0:a(e.width)})))}))(e);return{styles:l,classes:t.computed((()=>["q-dialog-content",{"q-dialog-content--scrollable":e.scrollable,"q-dialog-content--depressed":e.depressed}]))}}});i.render=function(e,a,l,o,n,i){return t.openBlock(),t.createBlock("div",{class:e.classes,style:e.styles},[t.renderSlot(e.$slots,"default")],6)};var d=t.defineComponent({name:"GDialog",components:{GDialogOverlay:n,GDialogContent:i},props:{modelValue:{type:Boolean,default:!1},lockScroll:{type:Boolean,default:!0},lockScrollPadding:{type:Boolean,default:!0},persistent:{type:Boolean,default:!1},maxWidth:{type:[String,Number],default:"none"},width:{type:[String,Number],default:"auto"},scrollable:{type:Boolean,default:!1},depressed:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:a}){const{activatedOnce:l,active:n,deactivating:i}=(e=>{const a=t.ref(e.value),l=t.ref(e.value),o=t.ref(!1);return t.watch((()=>e.value),(e=>{if(!e)return o.value=!0,void t.nextTick((()=>{l.value=e,o.value=!1}));a.value?l.value=e:(a.value=!0,t.nextTick((()=>{l.value=e})))})),{activatedOnce:a,active:l,deactivating:o}})(t.computed((()=>e.modelValue))),d=t.ref(null),{activeZIndex:c}=o({activeElSelector:".q-dialog-frame--active",stackMinZIndex:200,isActive:n,content:d}),r=t.computed((()=>["q-dialog-frame",{"q-dialog-frame--active":n.value}])),s=t.computed((()=>({zIndex:c.value})));return{onClickOutside:()=>{e.persistent||a("update:modelValue",!1)},activatedOnce:l,activeZIndex:c,isActive:n,deactivating:i,classes:r,styles:s,frame:d}}});d.render=function(e,a,l,o,n,i){const d=t.resolveComponent("GDialogOverlay"),c=t.resolveComponent("GDialogContent");return e.activatedOnce?(t.openBlock(),t.createBlock(t.Teleport,{key:0,to:"body"},[t.createVNode(d,{active:e.isActive,deactivating:e.deactivating,"active-z-index":e.activeZIndex,onClick:e.onClickOutside},null,8,["active","deactivating","active-z-index","onClick"]),t.createVNode(t.Transition,{name:"dialog-transition"},{default:t.withCtx((()=>[t.withDirectives(t.createVNode("div",{ref:"frame",class:e.classes,style:e.styles},[t.createVNode(c,{width:e.width,"max-width":e.maxWidth,scrollable:e.scrollable,depressed:e.depressed},{default:t.withCtx((()=>[t.renderSlot(e.$slots,"default")])),_:3},8,["width","max-width","scrollable","depressed"])],6),[[t.vShow,e.isActive]])])),_:1})])):t.createCommentVNode("",!0)},e.GDialog=d,Object.defineProperty(e,"__esModule",{value:!0}),e[Symbol.toStringTag]="Module"}));
